<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/shinytutorials/styles.d51cc9df64f8c757351f.css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#abe338}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.important,.token.regex{color:gold}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast:active){code[class*=language-],pre[class*=language-]{color:windowText;background:window}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:400}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:700}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:400}}@font-face{font-family:Open Sans;font-style:normal;font-weight:400;src:url(/shinytutorials/static/open-sans-v17-latin-regular-5f4d4bc11d64b6cb605b7030c1997270.eot);src:local("Open Sans Regular"),local("OpenSans-Regular"),url(/shinytutorials/static/open-sans-v17-latin-regular-5f4d4bc11d64b6cb605b7030c1997270.eot?#iefix) format("embedded-opentype"),url(/shinytutorials/static/open-sans-v17-latin-regular-33543c5cc5d88f5695dd08c87d280dfd.woff2) format("woff2"),url(/shinytutorials/static/open-sans-v17-latin-regular-de0869e324680c99efa1250515b4b41c.woff) format("woff"),url(/shinytutorials/static/open-sans-v17-latin-regular-049a929c5d81988b3ae6d2f985ca7aa5.ttf) format("truetype"),url(/shinytutorials/static/open-sans-v17-latin-regular-7aab4c13671282c90669eb6a10357e41.svg#OpenSans) format("svg")}@font-face{font-family:Open Sans;font-style:normal;font-weight:600;src:url(/shinytutorials/static/open-sans-v17-latin-600-ddacaf4a9db58cda27c76ce88c408546.eot);src:local("Open Sans SemiBold"),local("OpenSans-SemiBold"),url(/shinytutorials/static/open-sans-v17-latin-600-ddacaf4a9db58cda27c76ce88c408546.eot?#iefix) format("embedded-opentype"),url(/shinytutorials/static/open-sans-v17-latin-600-819af3d3abdc9f135d49b80a91e2ff4c.woff2) format("woff2"),url(/shinytutorials/static/open-sans-v17-latin-600-449d681cd6006390e1bee3c3a660430b.woff) format("woff"),url(/shinytutorials/static/open-sans-v17-latin-600-8f7128145a3c2b83923552a328df7cdc.ttf) format("truetype"),url(/shinytutorials/static/open-sans-v17-latin-600-e16f375be3c2a73b58255a02f6d3a9ce.svg#OpenSans) format("svg")}body,html{padding:0;margin:0;font-family:Open Sans,Helvetica,sans-serif;cursor:default;font-size:15pt}article,aside,footer,header,main,nav{padding:0;margin:0;display:block}h1,h2,h3,h4,h5,h6{display:block;color:#2a2c32;line-height:1.3;padding:0;margin:0 0 6px}p{color:#3f454b;line-height:1.6;padding:0;margin:0 0 12px}ol li,ul li{margin:0;padding:0;line-height:1.7}ol li p,ul li p{padding:0;margin:0;line-height:1}ol li a,ul li a{padding:0;margin:0;line-height:1.5}li{color:#3f454b;line-height:1.3}a{color:#5177b8;text-decoration:none;box-shadow:0 1px 0 #5177b8}blockquote{line-height:1.3}input{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:90%;font-size:12pt;padding:8px 8px 8px 12px;border-radius:0;border:none;background-color:#f6f6f6;box-shadow:inset 0 2px 2px #d8d8d8}img,input{display:block}img{width:100%}:not(pre)>code{font-size:14pt}.icon{display:inline-block;width:20px;height:20px}.gatsby-highlight{font-size:12pt;overflow:auto}.gatsby-highlight pre{border-radius:4px}.gatsby-resp-image-link{box-shadow:none}button{display:block;border:none;background:none;cursor:pointer}.btn,.btn-link{display:block;padding:4px;margin:8px 0;font-size:14px;background-color:transparent;border-left:3px solid transparent;text-align:center}.btn-primary,.btn-secondary{text-transform:uppercase;letter-spacing:2px;font-weight:600;border-radius:3px;padding:6px 12px}.btn-primary{background-color:#5177b8;border:2px solid #5177b8;color:#fff;padding:8px 12px}.btn-primary:focus,.btn-primary:hover{background-color:transparent;border-color:#5177b8;color:#5177b8}.btn-secondary{background-color:transparent;border:2px solid #5177b8;color:#5177b8}.btn-secondary:focus,.btn-secondary:hover{background-color:#5177b8;color:#f6f6f6;border-color:#5177b8}.btn-keyword{font-size:12pt}.btn-keyword.selected,.btn-keyword:focus,.btn-keyword:hover{color:#5177b8;font-weight:600;border-left-color:#5177b8}.btn-centered{width:100px;margin:24px auto 0}.nav{position:fixed;top:0;left:0;width:100%;padding:6px 0;display:-ms-grid;display:grid;grid-template-columns:65% 35%;grid-template-areas:"brandLink menuBtn";-webkit-column-gap:0;column-gap:0;row-gap:0;background-color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.18);z-index:15}.nav .nav-item{display:flex;align-items:center}.nav .nav-item.brand-link{grid-area:brandLink;color:#5177b8;font-weight:600;font-size:14pt;letter-spacing:2px;padding:0 0 0 16px;box-shadow:none}.nav .nav-item.brand-link .brand-link-icon path{fill:#5177b8}.nav .navigation{display:block;position:absolute;top:48px;width:1px;height:1px;clip:rect(0 0 0 0);clip:rect(0,0,0,0);padding:32px 0;background-color:#fff;z-index:14}.nav .navigation .menu-item{display:block;text-align:center}.nav .navigation .menu-item .menu-link{font-size:16pt;box-shadow:none}.nav .navigation.expanded{width:100%;height:auto;clip:auto;box-shadow:0 6px 6px rgba(0,0,0,.18)}.nav .menu-btns{justify-content:flex-end;grid-area:menuBtn}.nav .menu-btns .menu-button{margin:0}.nav .menu-btns .menu-button #menuBtn{margin-right:16px}@media screen and (min-width:972px){.nav{display:grid;grid-template-areas:"brandLink navLinks";grid-template-columns:200px 80%}.nav .nav-item.brand-link{padding-bottom:0;grid-area:brandLink}.nav .nav-item.navigation{position:static;display:flex;width:100%;grid-area:navLinks;box-shadow:none}.nav .nav-item.navigation .menu-item{display:inline-block;width:auto;margin:0 24px 0 0}.nav .nav-item.navigation .menu-item .menu-link{font-size:11pt}.nav .nav-item.navigation .menu-item:last-child{margin-right:0}.nav .nav-item.menu-btns{display:none}}.menu{width:100%;margin:0 auto;list-style:none;padding:6px 0}.menu .menu-item{display:block;padding:0;margin:0 0 12px}.menu .menu-item .menu-link{position:relative;text-transform:uppercase;font-size:11pt;letter-spacing:2px;font-weight:600;color:#5177b8;padding-bottom:4px;border-bottom:2px solid transparent}.menu .menu-item .menu-link .menu-link-icon{position:relative;padding-right:6px;top:4px}.menu .menu-item .menu-link .menu-link-icon path{fill:#5177b8}.menu .menu-item .menu-link:hover{border-bottom-color:#5177b8}@media screen and (min-width:972px){.menu .menu-item{display:inline-block;margin:0 18px 0 0}}.footer{margin:0;padding:62px 0;background-color:#2a2c32}.footer h2{display:block;width:85%;margin:0 auto;padding-top:12px;color:#d8d8d8;letter-spacing:2.5px}.footer .menu{list-style:none;width:85%;margin:12px auto;padding:0}.footer .menu .menu-item{margin-right:24px}.footer .menu .menu-item .menu-link{color:#d8d8d8;box-shadow:none}.footer .menu .menu-item .menu-link .menu-link-icon path{fill:#d8d8d8}.footer .menu .menu-item .menu-link:hover{border-bottom-color:#d8d8d8}.post{padding:32px;border-radius:6px}.post .post-image{background-position:50%;background-size:cover;margin-bottom:12px}.post .post-title{margin:0;padding:0}.post .post-title-link a{color:#2a2c32;box-shadow:0 1px 0 #3f454b}.post .post-desc{padding:0;margin:0;width:100%}.post .post-date{display:inline-block;color:#3f454b;font-size:11pt;font-family:consolas,courier,sans-serif;margin-right:12px}.post .post-tags{display:block;padding:0;margin:0 0 16px;list-style:none;color:#3f454b}.post .post-tags li{display:inline-block;margin-right:12px}.post .post-tags li .tag{border-radius:6px;font-size:11pt;padding:5px 10px;background-color:#f6f6f6;font-family:consolas,courier,sans-serif}.post .post-tags li .tag:before{content:"#"}.post .post-tags li:first-child{margin-left:0}.post .post-link{display:block;text-align:center;text-transform:uppercase;font-size:12pt;letter-spacing:2px;text-decoration:none;border-radius:4px;padding:6px 0;font-weight:600;box-shadow:none}.post .post-link:hover{text-decoration:underline}.post.post-feature{margin:16px auto;background-color:#fff}.post.post-feature .post-link{margin:0 auto;border:1px solid #5177b8;background-color:#5177b8;color:#fff}.post.post-plain{background-color:#fff;margin-bottom:16px}.post.post-plain .post-link{border:1px solid #5177b8}.post.post-plain .post-link:hover{background-color:#5177b8;color:#fff}.post-form{padding:32px;border-radius:0 0 6px;background-color:#fff;border-top:4px solid #5177b8;margin-bottom:16px}.post-form .input-label{display:block;padding:0;margin:0;font-size:18pt;color:#3f454b;font-weight:600}.post-form .input-example{line-height:1.5;padding:0;font-size:12pt;color:#3f454b;margin:0 0 12px}@media screen and (min-width:972px){.post{max-width:872px}.post.post-plain .post-link,.post.post-plain .post-tags{display:inline-flex;justify-content:center;align-items:center}.post.post-plain .post-link{width:125px;float:right}.post-form{max-width:872px}}.hero{width:100%;padding:44px 0;display:flex;position:relative;justify-content:center;align-items:center;background-color:#fff;overflow:hidden}.hero.hero-index .hero-content{width:90%;margin:0 auto;padding:72px 0;z-index:2}.hero.hero-index .hero-content .hero-title{font-size:21pt;letter-spacing:2.5px}.hero.hero-index .hero-content .hero-subtitle{font-weight:600;font-size:32pt;letter-spacing:2px;line-height:1.2}.hero.hero-index .hero-content .hero-image{display:block;width:300px;margin:44px auto;box-shadow:0 12px 3px -6px rgba(0,0,0,.18)}.hero.hero-text .hero-content{width:90%;margin:0 auto;padding:82px 0 0}.hero.hero-text .hero-content p{margin:0}.hero.hero-style-1{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxNDQwcHgiIGhlaWdodD0iNjcxcHgiIHZpZXdCb3g9IjAgMCAxNDQwIDY3MSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48IS0tR2VuZXJhdG9yOiBTa2V0Y2ggNTkuMSAoODYxNDQpIC0gaHR0cHM6Ly9za2V0Y2guY29tLS0+PHRpdGxlPmhlcm8tYmstZ3JheTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PGcgaWQ9IkJhY2tncm91bmRzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBpZD0iaGVyby1iay1ncmF5LWNvcHkiIGZpbGw9IiM1MTc3YjgiIGZpbGwtb3BhY2l0eT0iMC4zIj48cGF0aCBkPSJNLTEuMjk5NjU0ODNlLTE0LDAgTDE0NDAsMCBDMTQ0MCw5NS45MTQ2OTE5IDE0NDAsMTg1Ljk3MzIwOCAxNDQwLDI3MC4xNzU1NDcgQzE0NDAsMzU0LjM3Nzg4NyAxNDQwLDQ3OS4zMTkzNzEgMTQ0MCw2NDUgQzEyODYuMzEwNjIsNTg3Ljc4MzUyNiAxMTI0LjkxNjc3LDU1MS45MDgyNTQgOTU1LjgxODQ0NSw1MzcuMzc0MTgzIEM3MDIuMTcwOTU5LDUxNS41NzMwNzYgNDU2Ljc1MDAwNiw3NDYuNzg4NDcxIDIxNi4yNzE0MTEsNjQ1IEM3MS41NDI5NDAxLDU4My43NDAxMjEgMC45MjI0ODU1MDIsNTA2LjI2ODcxIDEuMDM5NTg1MDhlLTEzLDQxMS42MzcxNzIgQy0wLjA2NjI0ODYzNzQsNDA0Ljg0MTE3MyAtMC4wNjYyNDg2Mzc0LDM5NC4yOTU0NDkgLTEuNTgxMzczOTJlLTE0LDM4MCBMLTEuMjk5NjU0ODNlLTE0LDAgWiIgaWQ9Imhlcm8tYmstZ3JheSIvPjwvZz48L2c+PC9zdmc+);background-size:cover;background-position:50% 100%;background-repeat:no-repeat}@media screen and (min-width:972px){.hero.hero-index .hero-content,.hero.hero-text .hero-content{width:100%;max-width:912px}.hero.hero-index .hero-content .hero-image,.hero.hero-text .hero-content .hero-image{transform:scale(1.25)}}.flex{display:flex}.flex .flex-child{display:block;width:100%;height:auto}.flex.flex-30x70-layout,.flex.flex-33x3-layout,.flex.flex-50x2-layout{width:100%;flex-wrap:wrap}@media (min-width:812px){.flex.flex-30x70-layout .flex-child{display:inline-block}.flex.flex-30x70-layout .flex-child:nth-child(odd){width:30%}.flex.flex-30x70-layout .flex-child:nth-child(2n){width:70%}.flex.flex-33x3-layout .flex-child{display:inline-block;width:33%}.flex.flex-50x2-layout .flex-child{display:inline-block}.flex.flex-50x2-layout .flex-child:nth-child(2n),.flex.flex-50x2-layout .flex-child:nth-child(odd){width:50%}}.article-profile{display:inline-flex;justify-content:center;align-items:center;margin-top:12px}.article-profile .profile-img{width:40px;border-radius:50%}.article-profile .profile-name{font-size:12pt;margin-left:6px;color:#3f454b}.article-hero{padding-bottom:0}.article-hero h1{font-size:13pt;text-transform:uppercase;letter-spacing:2px}.article-hero h2{font-size:28pt}.article-hero .article-dates,.article-hero .article-readtime{margin:0;line-height:1.5;font-size:11pt;text-transform:uppercase;letter-spacing:2px;padding:0}.article-hero .article-dates time,.article-hero .article-readtime time{font-weight:400}.article-hero .article-readtime{color:#5177b8}.article{width:100%;padding:32px 0;border-radius:6px;background-color:#fff}.article .article-abstract,.article .article-body,.article .article-footer,.article .article-title{display:block;width:90%;margin:0 auto}.article .article-title{text-align:center}.article .article-abstract{color:#3f454b;line-height:1.6}.article .article-abstract :not(h2){color:#3f454b}.article .article-body h2{padding:0;margin:24px 0 0}.article .article-body a{color:#5177b8}.article .article-body blockquote{background-color:#f6f6f6;padding:2px 12px;margin:44px 0;border-left:10px solid #5177b8}.article .article-footer{border-top:1px solid #a3a6a8;margin-top:12px;padding-top:12px}.article .article-footer .article-tags{display:inline-block;padding:0;margin:0;list-style:none;color:#3f454b}.article .article-footer .article-tags li{display:inline-block;margin-right:12px}.article .article-footer .article-tags li .tag{border-radius:6px;font-size:11pt;padding:5px 10px;background-color:#f6f6f6;font-family:consolas,courier,sans-serif}.article .article-footer .article-tags li .tag:before{content:"#"}.article .article-footer .article-tags li:first-child{margin-left:0}.article-toc h2{font-size:21pt}.article-toc ol{font-size:13pt}.article-toc ol li{margin-bottom:12px}.article-toc ol li ol{margin-top:12px;list-style:upper-alpha}.article-toc ol li ol li{margin-bottom:6px}.article-toc ol li ol li ol{list-style:lower-roman}.article-toc ol li:last-child,.article-toc ol li ol li:last-child{margin-bottom:0}.article-toc ol a{box-shadow:none}.article-toc ol a :focus,.article-toc ol a:hover{box-shadow:0 2px 0 0 #5177b8}@media (min-width:972px){.article{max-width:812px}}.main{padding:0;min-height:60vh}.main .full-section{width:100%}.main .full-section .full-section-content,.main .main-section{width:90%;margin:0 auto}.main .main-section{padding:24px 0}.main .filled-section{padding:44px 0}.main .filled-section:not(.welcome-section){background-color:#f6f6f6}.main .filled-section:not(.welcome-section) p:not(.post-desc){text-align:center}.main .filled-section h2{text-align:center;text-transform:uppercase;letter-spacing:2px;padding:0;margin:0}.main .filled-section:last-child{margin-bottom:0}.main .filled-section.welcome-section p{max-width:812px;margin:0 auto}@media (min-width:972px){.main .full-section .full-section-content,.main .main-section{max-width:972px}}.sidebar-layout{display:flex;width:100%;flex-wrap:wrap}.sidebar-layout .sidebar-panel{position:static;padding-top:50px}.sidebar-layout .sidebar-panel .sidebar-content{background-color:#fff;margin:0 auto;padding:32px;border-radius:6px}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title{display:block;width:100%}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title .sidebar-toggle{position:relative;margin:0;padding:0;font-size:18pt}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title .sidebar-toggle .sidebar-toggle-icon{position:absolute;top:4px;margin-left:12px;transform:rotate(-45deg);transform-origin:center center;transition:all .3s ease-in-out}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title .sidebar-toggle .sidebar-toggle-icon circle{fill:#f6f6f6}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title .sidebar-toggle .sidebar-toggle-icon line{stroke:#5177b8}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-title .sidebar-toggle .sidebar-toggle-icon.rotated{transform:rotate(0)}.sidebar-layout .sidebar-panel .sidebar-content .sidebar-caption{margin:0 0 12px;line-height:1.3;font-size:14pt}.sidebar-layout .sidebar-panel .sidebar-content .taglist{list-style:none;padding:0;margin:0 0 16px -6px}.sidebar-layout .sidebar-panel .sidebar-content .taglist .taglist-item{width:200px;padding:0 24px 0 0;margin-bottom:12px;cursor:pointer}.sidebar-layout .sidebar-panel .sidebar-content.expanded{position:absolute;width:1px;height:1px;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);overflow:hidden}.sidebar-layout .main-panel{padding-top:50px}.sidebar-layout .main-panel,.sidebar-layout .sidebar-panel{width:90%;margin:0 auto}@media (min-width:972px){.sidebar-layout .sidebar-panel{width:30%;margin:0 auto;position:-webkit-sticky;position:sticky;top:62px;height:100%}.sidebar-layout .main-panel,.sidebar-layout .sidebar-panel .sidebar-content{width:70%}}#menuBtn{display:flex;justify-content:center;align-items:center;background-color:transparent}#menuBtn .menu-icon{display:block;margin:0 auto;position:relative}#menuBtn .menu-icon .menu-bar{display:block;height:3px;width:30px;border-radius:6px;margin-bottom:6px;background-color:#5177b8;transition:all .2s ease-in-out}#menuBtn .menu-icon .menu-bar:first-child{margin-top:2px}#menuBtn.open .menu-bar:first-child{opacity:0}#menuBtn.open .menu-bar:nth-child(2){transform:rotate(-45deg);transform-origin:center .5px;background-color:#5177b8}#menuBtn.open .menu-bar:nth-child(3){transform:rotate(45deg);transform-origin:24.85px -2.5px;background-color:#5177b8}#menuBtn.open .menu-label{color:#5177b8}.article table,.datatable{width:100%;margin:8px auto 6px;font-weight:400;border-spacing:0;text-align:left;font-size:13pt}.article table caption,.datatable caption{text-align:left;font-size:16pt;margin:12px 0;color:#2a2c32;font-weight:600}.article table thead tr th,.datatable thead tr th{font-weight:600;padding:4px 12px;border-bottom:1px solid #2a2c32;color:#2a2c32}.article table tbody tr td,.datatable tbody tr td{padding:24px 12px}.article table tbody tr td .hidden-colname,.datatable tbody tr td .hidden-colname{display:none}.article table tbody tr:nth-child(2n),.datatable tbody tr:nth-child(2n){background-color:#f6f6f6}@media (max-width:892px){.datatable thead{display:none}.datatable tbody tr{display:block;margin-bottom:16px;counter-increment:rowCounter}.datatable tbody tr:nth-child(2n){background-color:transparent}.datatable tbody tr td{display:block;padding:6px 0 6px 6px;color:#3f454b}.datatable tbody tr td:first-child{font-size:16pt;color:#2a2c32}.datatable tbody tr td:first-child:before{content:counter(rowCounter) ".";display:inline-block;margin-right:4px;font-size:15pt}.datatable tbody tr td:not(:first-child){border-bottom:1px solid #f6f6f6}.datatable tbody tr td .hidden-colname{display:inline-block;width:150px}.datatable tbody tr td .hidden-colname:after{content:":"}.datatable-container{display:block;width:100%;overflow-x:scroll}}.visually-hidden{position:absolute;width:1px;height:1px;clip:rect(0 0 0 0);clip:rect(0,0,0,0);overflow:hidden}.tutorial-index{padding:0 0 66px;background-color:#f6f6f6}.tutorial-index .tutorial-index-posts{padding:32px 0}.tutorial-index .tutorial-index-posts h2{padding-left:32px;margin-bottom:32px}.tutorial{padding:0 0 50px;background-color:#f6f6f6}.about-page #repos .column-4,.about-page #repos .column-5,.about-page #repos .column-6,.about-page #repos thead th:nth-child(n+4){text-align:left}@media (min-width:972px){.related-projects .post.post-feature,.tutorial-latest .post.post-feature{max-width:40%}.related-projects .post.post-feature:nth-child(odd),.tutorial-latest .post.post-feature:nth-child(odd){margin-right:32px}.tutorial-index .tutorial-index-posts{padding-top:82px}.about-page #repos .column-4,.about-page #repos .column-5,.about-page #repos .column-6,.about-page #repos thead th:nth-child(n+4){text-align:right}.gallery-page .post .post-link{width:250px}}</style><meta name="generator" content="Gatsby 2.20.10"/><title data-react-helmet="true">shinyTutorials | Responsive Datatables</title><meta data-react-helmet="true" name="description" content="Responsive Datatables Creating a custom datatable function to reorgranize content for mobile devices"/><meta data-react-helmet="true" property="og:title" content="Responsive Datatables"/><meta data-react-helmet="true" property="og:description" content="Responsive Datatables Creating a custom datatable function to reorgranize content for mobile devices"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="dcruvolo"/><meta data-react-helmet="true" name="twitter:title" content="Responsive Datatables"/><meta data-react-helmet="true" name="twitter:description" content="Responsive Datatables Creating a custom datatable function to reorgranize content for mobile devices"/><meta data-react-helmet="true" name="keywords" content="css, html"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="shinytutorials latest posts" href="/shinytutorials/rss.xml"/><link as="script" rel="preload" href="/shinytutorials/webpack-runtime-7f142a406dc5b8165a13.js"/><link as="script" rel="preload" href="/shinytutorials/framework-e94c62ba7ecbd1156bac.js"/><link as="script" rel="preload" href="/shinytutorials/app-861713a6e6d99061f672.js"/><link as="script" rel="preload" href="/shinytutorials/styles-36681512479a843831b0.js"/><link as="script" rel="preload" href="/shinytutorials/commons-c531f5118f02e9104877.js"/><link as="script" rel="preload" href="/shinytutorials/ec800322c0f71b5715d75b0073f476a066af1f45-5dfcbcfd5bde2ac1f549.js"/><link as="script" rel="preload" href="/shinytutorials/component---src-components-tutorials-js-d53ebef395d5c90dcd9c.js"/><link as="fetch" rel="preload" href="/shinytutorials/page-data/tutorials/responsive-tables/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/shinytutorials/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="nav" role="navigation"><a class="nav-item brand-link" href="/shinytutorials/">shinyTutorials</a><ul class="menu nav-item navigation"></ul><ul class="nav-item menu menu-btns" aria-label="site settings"><li class="menu-item menu-button"><button id="menuBtn" class="" aria-expanded="false"><span class="menu-icon" aria-hidden="true"><span class="menu-bar"></span><span class="menu-bar"></span><span class="menu-bar"></span></span></button></li></ul></nav><header class="hero hero-index article-hero"><div class="hero-content"><h1 class="hero-title"></h1><h2 class="hero-subtitle"></h2><h1>Responsive Datatables</h1><h2>Creating a custom datatable function to reorgranize content for mobile devices</h2><p class="article-dates">Published: <time>2019-12-12</time></p><p class="article-dates">Updated: <time>2020-01-29</time></p><p class="article-readtime"><time>19</time> minute read</p><div class="article-profile"><img class="profile-img" src="/shinytutorials/static/dcruvolo-16a2e1e5e48ba95aed1c754fd7fd0d57.jpeg" alt="@dcruvolo"/><span class="profile-name">@dcruvolo</span></div></div></header><main id="main" class="main tutorial" aria-label="main content"><div class="sidebar-layout"><aside class="sidebar-panel article-toc"><section class="sidebar-content"><div><h2>Contents</h2>
<ol>
<li><a href="#about">Why would I need this?</a></li>
<li>
<p><a href="#work">How does this shiny app work?</a></p>
<ol>
<li>
<p><a href="#work-function">Creating a render datatable function</a></p>
<ol>
<li><a href="#work-function-headers">Building the table headers</a></li>
<li><a href="#work-function-body">Building the table body</a></li>
<li><a href="#work-function-main">Building the table function</a></li>
</ol>
</li>
<li><a href="#work-app">Preparing the shiny app</a></li>
<li><a href="#work-styles">Writing the CSS styles</a></li>
</ol>
</li>
<li><a href="#further-considerations">What do I need to know before implementing this into my own application?</a></li>
<li><a href="#run">How do I run the example application?</a></li>
</ol>
</div></section></aside><div class="main-panel tutorial-body"><article class="article"><section class="article-abstract"><h2>Overview</h2>Data tables are a good method for displaying data on the web. However, this can lead to issues of content overflows on mobile devices or if the browser is resized. In this tutorial, we will learn how to create a responsive table for use in shiny.</section><section class="article-body">
<span id="about" />
<h2>Why would I need this?</h2>
<p>Data tables are a good method for displaying data on the web. However, this can lead to issues of content overflows on mobile devices or if the browser is resized. Using relative units (i.e., %, em, etc.), it's possible to resize the table depending on the window size, but this may result in the text overflowing to neighboring cells or becoming too small to read. This is where building responsive tables can help. Instead of resizing the table, it is better to reorganize the content. For example, it is possible to stack cells as opposed to displaying them in a row. </p>
<p>Consider the the following figure. In the figure below, the table on the left presents the table in a normal row-by-column layout. The figure on the right shows the same data, but each column is stacked and the first column now acts as a table header.  </p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 600px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/99072/responsive_tables.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAAAvElEQVQY04WR3Q5EMBCFvf9bukNZTRNUV9v99CxBstlzMTHm/IxRpZS2ghhj+gFG74Lry5xzta5rXddt2zKLBQy897TLsoQQII3jCMcYkw9IX8EehsE5RzhUJczzjHKaJirUvu9xp5IkAuRdzFPXdbDpz4FkVFaAhPurAJovwGUXQ7XWhjtEUoXEwmyugNva9FiSw/7n5WjxRqlvRtw0DRnaSNNdzExHyhc8rmoKCEezHfiK/4J8/a0zQ74fCifTvD2wkV0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="responsive data tables"
        title="responsive data tables"
        src="/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/0a47e/responsive_tables.png"
        srcset="/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/8a4e8/responsive_tables.png 150w,
/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/5a46d/responsive_tables.png 300w,
/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/0a47e/responsive_tables.png 600w,
/shinytutorials/static/bc5000ac3a8cffbca14ca5f44f84d4a9/99072/responsive_tables.png 842w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Both tables are use the same data and use html and css to develop. The format changes only when size of the browser is smaller than a predefined breakpoint. In this tutorial and in the example application, we will learn how to create this table for use in a shiny application.</p>
<p>Originally, this example application was built to solve an issue in another project. However, it was further developed in response to the following R community <a href="https://community.rstudio.com/t/create-accessible-html-tables-in-rstudio/46831">post</a>.</p>
<span id="work" />
<h2>How does this shiny app work?</h2>
<p>It might be possible to use existing packages to create a responsive table, but that might involve overriding css styles or modifying existing render methods which could lead to other issues. Instead, it would be easier to create our own render datatable function to produce a structure that allows us to make a responsive table using CSS.</p>
<p>In this section, I will walk you through all of the steps required to produce a simple, responsive table. This includes the following.</p>
<ol>
<li>Creating a render datatable function</li>
<li>Preparing the shiny app</li>
<li>Writing the CSS styles</li>
</ol>
<span id="work-function" />
<h3>Creating a render datatable function</h3>
<p>Before we write the data table function, it is important to map the flow of data to html output. Here is what we will need to consider when writing the function. </p>
<ol>
<li><strong>Determine the HTML elements:</strong> The primary elements of a table are the header (<code>&#x3C;thead></code>), the body (<code>&#x3C;tbody></code>), rows (<code>&#x3C;tr></code>), and cells (either <code>&#x3C;th></code> for headers and <code>&#x3C;td></code> for everything else). In shiny, these elements can be accessed through <code>tags$*</code> (<code>tags$thead</code>, <code>tags$td</code>, etc.). For more information table structures, please see the <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Tables/Basics">HTML Table Basics</a> guide and refer to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table">table specs</a>.</li>
<li><strong>Create an outline of the function:</strong> We will need to figure out a way to generate the headers using the column names and render the values in our dataset into HTML cells. In this case, it will likely be easier to write a primary function and two helper functions (one for building the body and one for building the header). The primary function will act as a wrapper around the two helper functions.</li>
<li><strong>Bind data to html elements for use in CSS:</strong> the way this approach works is by rendering column names in <code>&#x3C;span></code> elements in each cell. This allows us to use css <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media queries</a> to display (or hide) this information when the window is resized.</li>
<li><strong>Provide a method for configuring rendering of the table:</strong> in some cases, you may not want to have responsive tables. If this is the case, there should be an option to turn off the rendering of the table for responsivity. Other options (html escape, controlling row headers, etc.) should also be added and processed in the handler functions. </li>
</ol>
<p>The options that will be used in the function are listed below and are defined in the parent function.</p>
<ul>
<li><code>responsive</code>: setting to true will render the required elements for responsive tables</li>
<li><code>rowHeaders</code>: setting to true will render the first cell of each row as a row header. This is recommended to use if all values in each row are related and have a specific value that describes the row (e.g., study participant data)</li>
<li><code>asHTML</code>: setting to true allows cell content to render any html in the cell. This may be useful if you want to add line breaks, urls, or other inline elements.</li>
</ul>
<p>This will make sense as we start writing the functions and the css. Let's start writing the function.</p>
<span id="work-function-header" />
<h4>Building the table header</h4>
<p>The first helper function will generate the table header element using the column names of the input dataset. The function will also process options from the parent function. </p>
<p>First, I will start by defining the function. I'll call the function <code>build_header</code> and assign two arguments: <code>data</code> and <code>options</code>. The <code>options</code> argument is a list of options passed through in the parent function.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Second, pull the names of the columns of the input dataset using the colnames function. </p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    columns <span class="token operator">&lt;-</span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, we will create the cells for the table header. Since we want the function to respond the dimensions of the column names, I will used the <code>lapply</code> function to iterate over all columns. This will return a collection of cells (<code>&#x3C;th></code>). </p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    columns <span class="token operator">&lt;-</span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>columns<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, the function will evaluate the options argument in order to render cell content. Specifically, should the cell value be rendered as a string or as an html element? Since the html markup for all column headers is identical (<code>&#x3C;th></code>), the condition will return the cell value with or without escaping html. The option that will be used in the condition <code>asHTML</code>. The options object is a list and the value <code>asHTML</code> can be accessed using <code>options$asHTML</code>. </p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    columns <span class="token operator">&lt;-</span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>columns<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            cell_value <span class="token operator">&lt;-</span> columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Once the cell value (i.e., column name) is rendered, it can now be added to column header element which is <code>&#x3C;th></code> and returned.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
   columns <span class="token operator">&lt;-</span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
   cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>columns<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
           cell_value <span class="token operator">&lt;-</span> columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
       <span class="token punctuation">}</span>
       cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>th<span class="token punctuation">(</span>scope <span class="token operator">=</span> <span class="token string">"col"</span><span class="token punctuation">,</span> cell_value<span class="token punctuation">)</span>
       cell
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The <code>scope</code> is used for improving the accessibility of tables with ambiguous data. This attribute creates a link between the table cells and the column they are associated with. This allows screen readers to provide more useful information when reading the data aloud. For example, if the user is on line 10 of a dataset, it will the screen reader will say, "row 10 of n, <em>name of column</em>, <em>value</em>" (where <em>n</em> is the total number of rows; <em>name of column</em> is the column name of a cell; <em>value</em> is the value of a cell).</p>
<p>At this point, the object cells is as it sounds, a collection of cells. Before the cells are added to the table, they will need to be wrapped in a row element (<code>tr</code>) and then in the table header element (<code>thead</code>).</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    columns <span class="token operator">&lt;-</span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>columns<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            cell_value <span class="token operator">&lt;-</span> columns<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>th<span class="token punctuation">(</span>scope <span class="token operator">=</span> <span class="token string">"col"</span><span class="token punctuation">,</span> cell_value<span class="token punctuation">)</span>
        cell
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>thead<span class="token punctuation">(</span>
        htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>tr<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"row"</span><span class="token punctuation">,</span> cells<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The <code>role</code> attribute is added for good accessibility practice. This attribute is important should the css display properties of table elements are changed. This will ensure screen readers still interpret rows correctly.</p>
<p>Let's test the function using the <code>iris</code> dataset.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_header<span class="token punctuation">(</span>iris<span class="token punctuation">,</span> options <span class="token operator">=</span> list<span class="token punctuation">(</span>responsive <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> rowHeaders <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> asHTML <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>This function yields the following html markup.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Species<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span></code></pre></div>
<span id="work-function-body" />
<h4>Building the table body</h4>
<p>The function that is used to build the table body is structured a bit different than the header function. To generate the html output, the function will render the table body by rows and columns. This means that we must take the first row in our dataset, build each cell, and add the cells to a row and then repeat this process for row two, row three, and so on. The function will also have conditions for processing the list of options, but this will be added a little later.</p>
<p>First, define the function. I will call this function <code>build_body</code> and it will have two input arguments <code>data</code> and <code>options</code> (received from the parent function).</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Second, to get the function to iterate row and column we will use a nested lapply function. The outer lapply function will process all rows and output them to a single object <code>body</code>. The inner lapply function will generate all cells (in a similar manner as the <code>build_header</code> function). To calculate number of iterations to use (i.e., rows and columns), I will use <code>1:NROW(data)</code> and <code>1:NCOL(data)</code>. I have also used the input arguments <code>row</code> and <code>col</code> to make it clear how the values are rendered into html elements.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    body <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NROW<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NCOL<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token ellipsis">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>To generate the cells, the function will do a couple of things. </p>
<ol>
<li>Render the cell content based on the option <code>asHTML</code>.</li>
<li>Render the html element as based on the option <code>rowHeader</code></li>
<li>Add cell content to the html element based on the option <code>responsive</code>.</li>
</ol>
<p>The rationale for structuring the cells in this way is that when the screen is smaller than a desktop or if the window is resized, then the table is collapsed and the cells are stacked. Another way to look at this is if the transformed from wide to long using either the <code>t()</code> function in base R or the <code>gather()</code> function from dplyr.</p>
<p>Here is a example of what it happening using some sample data. The sample dataset included in the example app has the 2017 and 2018 reporting rates for Australian birds in the Birds in Backyards survey program. The data is structured in long format where each row is the number of birds reported for a species for a given year. The columns are name, year, and count. Here is the first row in the dataset presented in the normal layout and in the responsive layout.</p>
<p><strong>Datatable: Normal</strong></p>
<p>In the normal layout, the table is presented by columns and rows.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">| Common.Name          | Year | Count
| Australasian Figbird | 2017 | 133</code></pre></div>
<p><strong>Datatable: Responsive</strong></p>
<p>In the responsive format, the column names and values are collapsed into a single cell and cells are stacked.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">| Australasian Figbird |
| year: 2017           |
| count: 133           |</code></pre></div>
<p>The first step is to evalue the option <code>asHTML</code>.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    body <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NROW<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NCOL<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token comment"># asHTML</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token ellipsis">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, using the option <code>rowHeader</code>, each cell can be built. It is important to note that if you are using this option, the data should be reorganized so that the row headers are first. Otherwise, it would not make a lot sense for individuals using screen readers.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    body <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NROW<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NCOL<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token comment"># asHTML</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># rowHeaders</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>rowHeaders<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> col <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>th<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"rowheader"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>td<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"cell"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token ellipsis">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now that the cell markup is define, the function will add content to the cell based on the option <code>responsive</code>. If set to TRUE, this will return the current column name in a span element that is hidden/shown based on screen size. The span element will also have the attribute <code>aria-hidden="true"</code> as the span element is for visual purposes only. Once all conditions are evaluated, the cell is returned.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    body <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NROW<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NCOL<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token comment"># asHTML</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># rowHeaders</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>rowHeaders<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> col <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>th<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"rowheader"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>td<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"cell"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># responsiveness</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>responsive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell<span class="token operator">$</span>children <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>
                    htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>span<span class="token punctuation">(</span>
                        class <span class="token operator">=</span> <span class="token string">"hidden-colname"</span><span class="token punctuation">,</span>
                        `aria<span class="token operator">-</span>hidden` <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">,</span>
                        colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                    cell_value
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell<span class="token operator">$</span>children <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>
                    cell_value
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># return cell</span>
            cell
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token ellipsis">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>At this point, the object cells is a collection of just that, cells. To add the cells to the table, they need to be returned in the row element <code>tr</code>.</p>
<p>Lastly, the object <code>body</code> is a collection of rows and the rows need to be added to the body element of the table. This means we will wrap the rows in the element <code>tbody</code> and return the output.</p>
<p>Here is the final function.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    body <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NROW<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">{</span>
        cells <span class="token operator">&lt;-</span> lapply<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span>NCOL<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token comment"># asHTML</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>asHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>HTML<span class="token punctuation">(</span>data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell_value <span class="token operator">&lt;-</span> data<span class="token punctuation">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># rowHeaders</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>rowHeaders<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> col <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>th<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"rowheader"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>td<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"cell"</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># responsiveness</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isTRUE<span class="token punctuation">(</span>options<span class="token operator">$</span>responsive<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cell<span class="token operator">$</span>children <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>
                    htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>span<span class="token punctuation">(</span>
                        class <span class="token operator">=</span> <span class="token string">"hidden-colname"</span><span class="token punctuation">,</span>
                        `aria<span class="token operator">-</span>hidden` <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">,</span>
                        colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                    cell_value
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cell<span class="token operator">$</span>children <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>
                    cell_value
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment"># return cell</span>
            cell
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment"># return cells in row</span>
        htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>tr<span class="token punctuation">(</span>role <span class="token operator">=</span> <span class="token string">"row"</span><span class="token punctuation">,</span> cells<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment"># return rows in body</span>
    htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>tbody<span class="token punctuation">(</span>body<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Let's test the function using the first row of the <code>iris</code> dataset. </p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">build_body<span class="token punctuation">(</span>iris<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span> options <span class="token operator">=</span> list<span class="token punctuation">(</span>responsive <span class="token operator">=</span> T<span class="token punctuation">,</span> rowHeaders <span class="token operator">=</span> T<span class="token punctuation">,</span> asHTML <span class="token operator">=</span> F<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div>
<p>This would return the following html markup.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rowheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      5.1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      3.5
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      1.4
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      0.2
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Species<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span></code></pre></div>
<span id="work-function-main" />
<h4>Building the table function</h4>
<p>Now that the two helper functions are written, they can be used to create the main function. This function will generate the table body and header, as well as a caption (or title for the table) all using the list of options. For simplicity, I have named this function <code>datatable</code> and have defined the following input arguments. </p>
<ul>
<li><strong>data</strong>: the object containing the data that you want to be rendered as an html table.</li>
<li><strong>id</strong>: a unique ID to be applied to the table element. This is optional, but recommended if you are rendering more than one table on the same page using this function.</li>
<li><strong>caption</strong>: an title to render with the table (optional).</li>
<li>
<p><strong>options</strong>: a list of options, <code>options = list(...)</code></p>
<ul>
<li><code>responsive</code>: a logical arg for turning on/off the rendering of additional elements for responsive tables (i.e., span; default = FALSE)</li>
<li><code>rowHeaders</code>: a logical arg that renders the first cell of every row as a row header. This is useful for datasets where all data in a row is related, e.g., patient data. If set to TRUE, the data must be organized so that the row header is the first column.</li>
<li><code>asHTML</code>: a logical argument used to render cell text as html elements (default = FALSE)</li>
</ul>
</li>
</ul>
<p>First, I have defined the function and the input arguments, as well as built the table header and table body using the input data.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">datatable <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> caption <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> options <span class="token operator">=</span> list<span class="token punctuation">(</span>responsive <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> rowHeaders <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> asHTML <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment"># render table and table elements</span>
    tbl <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>table<span class="token punctuation">(</span>class <span class="token operator">=</span> <span class="token string">"datatable"</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_header<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_body<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token ellipsis">...</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Next, if an id is supplied, the table attributes will need to be updated.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">datatable <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> caption <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> options <span class="token operator">=</span> list<span class="token punctuation">(</span>responsive <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> rowHeaders <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> asHTML <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment"># render table and table elements</span>
    tbl <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>table<span class="token punctuation">(</span>class <span class="token operator">=</span> <span class="token string">"datatable"</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_header<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_body<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token comment"># add id</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tbl<span class="token operator">$</span>attribs<span class="token operator">$</span>id <span class="token operator">&lt;-</span> id
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The last step in the function evaluates if a caption should be added to the table. Captions are typically placed after the opening table tag so this would would effect how sub-elements, or children, are added to the parent element (table); an if statement can handle this. Child elements can be added to an html element using <code>tbl$children</code>. Since these are html outputs, all child elements are added as a list. </p>
<p>Here is the final function.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">datatable <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> caption <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> options <span class="token operator">=</span> list<span class="token punctuation">(</span>responsive <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> rowHeaders <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> asHTML <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment"># render table and table elements</span>
    tbl <span class="token operator">&lt;-</span> htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>table<span class="token punctuation">(</span>class <span class="token operator">=</span> <span class="token string">"datatable"</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_header<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">,</span>
        datatable_helpers<span class="token operator">$</span>build_body<span class="token punctuation">(</span>data<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>

    <span class="token comment"># add id</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tbl<span class="token operator">$</span>attribs<span class="token operator">$</span>id <span class="token operator">&lt;-</span> id
    <span class="token punctuation">}</span>

    <span class="token comment"># should a caption be rendered?</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>caption<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tbl<span class="token operator">$</span>children <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span>
            htmltools<span class="token operator">::</span>tags<span class="token operator">$</span>caption<span class="token punctuation">(</span>caption<span class="token punctuation">)</span><span class="token punctuation">,</span>
            tbl<span class="token operator">$</span>children
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment"># return</span>
    tbl
<span class="token punctuation">}</span></code></pre></div>
<p>Let's test the function using the first row of the iris dataset.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">datatable<span class="token punctuation">(</span>data <span class="token operator">=</span> iris<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span> id<span class="token operator">=</span><span class="token string">"iris"</span><span class="token punctuation">,</span> caption <span class="token operator">=</span> <span class="token string">"Iris Dataset"</span><span class="token punctuation">)</span></code></pre></div>
<p>This would yield the following markup.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>datatable<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>datatable-iris<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">></span></span>Iris Dataset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Species<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rowheader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        5.1
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Sepal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        3.5
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Length<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        1.4
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Petal.Width<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        0.2
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>cell<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden-colname<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Species<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
        setosa
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></code></pre></div>
<span id="work-app" />
<h3>Preparing the shiny app</h3>
<p>In a shiny applicaiton, the function can be used as any other server output. Since the output of the function is a shiny tags list, it should be rendered used <code>renderUI</code> and added to the server output.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># server.R</span>
output<span class="token operator">$</span>tbl <span class="token operator">&lt;-</span> renderUI<span class="token punctuation">(</span><span class="token punctuation">{</span>
    datatable<span class="token punctuation">(</span>data <span class="token operator">=</span> iris<span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token string">"iris"</span><span class="token punctuation">,</span> caption <span class="token operator">=</span> <span class="token string">"Iris Dataset"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Then, on the client side, create the corresponding <code>uiOutput</code>.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r"><span class="token comment"># ui.R</span>
uiOutput<span class="token punctuation">(</span><span class="token string">"tbl"</span><span class="token punctuation">)</span></code></pre></div>
<span id="work-styles" />
<h3>Writing the CSS styles</h3>
<p> Using <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media queries</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements">pseudo-elements</a>, the column name is displayed before the value of a cell only when the screen width is less than a maximum value. In this example, I'm using <code>892px</code> as a break point. This breakpoint is completely arbitrary. I typically choose breakpoints around <code>900px</code>, but the final point depends on the table structure and the cell content. Choose a number and see how the table looks when the screen is resized and adjust as necessary. </p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 892px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>
    ...
<span class="token punctuation">}</span></code></pre></div>
<p>In the datatable function, each cell (<code>td</code>) was given a span element that has the class <code>hidden-colname</code>. In a css file, the properties associated with this class will be modified to visually hide or display elements. </p>
<p>Using the breakpoint <code>892px</code>, the following properties are used to visually display the column names and visually hide the table header when screen size is less than the <code>892px</code>. All cells and row headers (if present) are displayed as blocks.</p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token comment">/* screens less than 892px */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 892px<span class="token punctuation">)</span></span><span class="token punctuation">{</span>
    <span class="token selector">.datatable thead</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>1px 1px 1px 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>1px<span class="token punctuation">,</span> 1px<span class="token punctuation">,</span> 1px<span class="token punctuation">,</span> 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.datatable tbody tr th,
    .datatable tbody tr td</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 5px 0 5px 12px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.datatable .hidden-colname</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">clip</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Outside of the media query, the properties for <code>hidden-colname</code> are different as we want the column names to be visually hidden when the screen is larger than <code>892px</code>. </p>
<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.datatable .hidden-colname</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>1px 1px 1px 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> <span class="token function">rect</span><span class="token punctuation">(</span>1px<span class="token punctuation">,</span> 1px<span class="token punctuation">,</span> 1px<span class="token punctuation">,</span> 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>There are additional stylings in the css file. I will not discuss them here as they mainly set the style of other table elements. The block above is the most important block stylings for displaying the column names.</p>
<span id="further-considerations" />
<h2>What do I need to know before implementing this into my own application?</h2>
<p><del>There are accessibility concerns when the table is transformed. For inviduals who use screen readers or other web assistive technologies, does the layout make sense and can the information be understood? Since the display properties of table elements are adjusted, it is likely that the screen readers will not treat the cells as standard table elements. It is likely that the cells will be interpreted as regular text elements. Adding additional attributes might help address this, but more research is required. Please keep this in mind when implementing this approach into your application. I will address this in the near future.</del></p>
<p>As of January 14th, the above concern has been largely addressed. Although, I'm still testing and making adjustments. I'm not quite ready to remove this item yet as it may be useful for future readers.</p>
<p>This approach provides a simple method for converting data to HTML tables. However, it is fairly basic in features. There is no support for more advanced layouts (i.e., nested tables, grouped columns or rows) as complex layouts are a difficult to make accessible. As this function was originally intended to address an issue for a work project, I did not have a need for complex layouts and other rendering options. Although, it is likely that I will need this in the near future. Stay tuned for future updates! </p>
<blockquote>
<p>This example has led to the begining of an accessible components library for shinyapps. There have been a number of updates to the function (performance and features) that may be useful for developing and customizing tables in shiny apps. Check it out the <a href="https://github.com/davidruvolo51/accessibleshiny">accessibleshiny</a> package. </p>
</blockquote>
<h2>How do I run the example application?</h2>
<p>The demo can be run by cloning the <a href="https://github.com/davidruvolo51/shinyAppTutorials">shinyAppTutorials</a> respository and opening the responsive data tables R project file or you can run the following code from within R studio.</p>
<div class="gatsby-highlight" data-language="r"><pre class="language-r"><code class="language-r">install.packages<span class="token punctuation">(</span>shiny<span class="token punctuation">)</span>
shiny<span class="token operator">::</span>runGitHub<span class="token punctuation">(</span>repo <span class="token operator">=</span> <span class="token string">"shinyAppTutorials"</span><span class="token punctuation">,</span> username <span class="token operator">=</span> <span class="token string">"davidruvolo51"</span><span class="token punctuation">,</span> subdir<span class="token operator">=</span><span class="token string">"responsive-datatables"</span><span class="token punctuation">)</span></code></pre></div>
<p>I would also checkout the tutorial <a href="../sass-in-shiny/">Using SASS in Shiny</a> where I recreate this application using sass.</p></section><div class="article-footer"><p>Keywords</p><ul class="post-meta-tags article-tags" aria-label="post tags"><li><code class="tag tag-css">css</code></li><li><code class="tag tag-html">html</code></li></ul></div></article></div></div></main><footer class="footer"><h2>shinyTutorials</h2><ul class="menu footer-menu"></ul><ul class="menu footer-menu"><li class="menu-item"><a class="menu-link" href="https://www.twitter.com/dcruvolo"><svg class="icon menu-link-icon" height="30" width="30" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg>@dcruvolo</a></li><li class="menu-item"><a class="menu-link" href="https://github.com/davidruvolo51/shinyAppTutorials"><svg class="icon menu-link-icon" height="30" width="30" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>shinyAppTutorials</a></li><li class="menu-item"><a class="menu-link" href="https://davidruvolo51.github.io/portfolio/"><svg class="icon" width="50" height="50" viewBox="0 0 50 40" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="user" transform="translate(11.280196, 6.000000)" stroke="currentColor" stroke-width="2" fill="currentColor"><path d="M27.1829506,38.463564 C27.1829506,31.1581236 23.1247009,23.3692614 18.2303544,21.0113097 C16.8720034,20.3568962 15.4135775,20 13.9041559,20 C12.4962651,20 11.1176019,20.3104979 9.81412773,20.8833092 C4.68481072,23.1373859 0.63453826,31.6314453 0.63453826,39.073266" id="body"></path><circle id="head" cx="13.7198041" cy="9" r="9"></circle></g></svg>My Portfolio</a></li></ul></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/,/^(?:\/do\-not\-track\/me\/too\/)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-76117337-11',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-76117337-11', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tutorials/responsive-tables/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-861713a6e6d99061f672.js"],"component---src-components-tutorials-js":["/component---src-components-tutorials-js-d53ebef395d5c90dcd9c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b86b6c2dbf524e19eaab.js"],"component---src-pages-about-js":["/component---src-pages-about-js-e84b24137a4894d179ce.js"],"component---src-pages-gallery-index-js":["/component---src-pages-gallery-index-js-0b4caed180f04e35dc03.js"],"component---src-pages-index-js":["/component---src-pages-index-js-081bcc21e2c5112c63f8.js"],"component---src-pages-tutorials-index-js":["/component---src-pages-tutorials-index-js-c3e7453d0cfa7ddc4bf6.js"]};/*]]>*/</script><script src="/shinytutorials/component---src-components-tutorials-js-d53ebef395d5c90dcd9c.js" async=""></script><script src="/shinytutorials/ec800322c0f71b5715d75b0073f476a066af1f45-5dfcbcfd5bde2ac1f549.js" async=""></script><script src="/shinytutorials/commons-c531f5118f02e9104877.js" async=""></script><script src="/shinytutorials/styles-36681512479a843831b0.js" async=""></script><script src="/shinytutorials/app-861713a6e6d99061f672.js" async=""></script><script src="/shinytutorials/framework-e94c62ba7ecbd1156bac.js" async=""></script><script src="/shinytutorials/webpack-runtime-7f142a406dc5b8165a13.js" async=""></script></body></html>